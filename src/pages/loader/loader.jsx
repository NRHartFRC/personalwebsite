import { useEffect } from "react";
import { motion } from "framer-motion";

/**
 * Represents the Loader component.
 * Displays an animated loader with SVG icons.
 *
 * @component
 * @param {function} setShowLoader - A function to set whether the loader should be displayed.
 */

const Loader = ({ setShowLoader }) => {
  useEffect(() => {
    // Automatically hide the loader after a delay
    setTimeout(() => {
      setShowLoader(false);
    }, 2800);
  }, [setShowLoader]);

  // Animation variants for the SVG icons
  const iconVariant1 = {
    hidden: {
      pathLength: 0,
      fill: "rgb(19, 26, 34)",
    },
    visible: {
      pathLength: 5,
      fill: "rgb(243, 243, 243)",
      stroke: "rgb(243, 243, 243)",
      strokeWidth: 3,
      scale: 0,
      transition: {
        default: { duration: 3, ease: "easeIn" },
        fill: { duration: 3, ease: [1, 0, 0.8, 1] },
        stroke: { duration: 3, ease: [1, 0, 0.8, 1] },
        scale: { duration: 3, ease: [1, 1, 0.5, 0] },
      },
    },
  };

  const iconVariant2 = {
    hidden: {
      pathLength: 0,
      fill: "rgb(19, 26, 34)",
    },
    visible: {
      pathLength: 5,
      fill: "rgb(72, 163, 198)",
      stroke: "rgb(72, 163, 198)",
      scale: 0,
      strokeWidth: 3,
      transition: {
        default: { duration: 3, ease: "easeIn" },
        fill: { duration: 3, ease: [1, 0, 0.8, 1] },
        stroke: { duration: 3, ease: [1, 0, 0.8, 1] },
        scale: { duration: 3, ease: [1, 1, 0.5, 0] },
      },
    },
  };

  return (
    <div style={{ display: "flex", justifyContent: "center", alignItems: "center", height: "100vh" }}>
      {/* Animated SVG */}
      <motion.svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 1 920.55 921.26"
        style={{ width: "30vw", height: "30vw" }}
      >
      <motion.path
          d="M 593.27 789.81 C 635.08 772.68 672.99 747.88 705.12 717.05 C 767.72 656.93 808.47 574.13 813.9 481.89 L 593.299 480.166 L 593.299 692.75 L 485.534 692.75 L 485.44 0 C 537.499 0.068 581.848 13.608 593.27 17.309 C 604.871 21.069 668.796 46.031 705.12 70.28 C 804.431 132.918 878.325 232.386 907.047 349.521 C 909.046 357.675 905.975 375.75 873.318 381.34 C 822.295 390.073 834.737 473.247 893.487 466.586 C 919.4 463.648 920.43 474.8 920.08 481.89 C 912.99 637.44 829.02 772.91 705.12 851.1 C 670.63 872.83 633.07 890.19 593.27 902.24 C 558.9 912.64 522.76 919.25 485.44 921.26 L 485.44 814.96 C 523.35 812.24 559.61 803.5 593.27 789.8 L 593.27 789.81 Z M 593.27 374.06 L 738.873 374.06 L 803.86 374.06 C 787.631 309.044 753.406 251.051 706.768 205.809 C 692.615 190.372 649.568 152.604 593.299 134.742 L 593.27 374.06 Z"
          // d="m593.27,789.8c-33.66,13.7-69.92,2.44-107.83,25.16v106.3c37.32-2.01,73.46-8.62,107.83-19.02,39.8-12.05,77.36-29.41,111.85-51.14,123.9-78.19,207.87-213.66,214.96-369.21.35-7.09.47-14.17.47-21.26,0-29.53-2.83-58.46-8.15-86.57-24.21-127.68-101.1-236.81-207.28-303.78v133.94c47.48,45.47,82.32,104.06,98.74,169.84h-210.59V19.02c-34.37-10.39-70.51-16.89-107.83-19.02v481.89h328.46c-5.43,92.24-46.18,175.04-108.78,235.16-32.13,30.83-70.04,55.63-111.85,72.76h0Z"
          variants={iconVariant2}
          initial="hidden"
          animate="visible"
        />


        <motion.path
          d="M 435.12 0.12000000000000001 L 435.026 658.488 L 138.55 312.05 C 129.46 331.77 122.13 352.56 116.7 374.06 C 114.22 383.86 112.21 393.9 110.56 404.06 C 107.61 422.49 106.07 441.38 106.07 460.63 C 106.07 467.72 106.31 474.8 106.78 481.89 C 108.43 510 113.28 537.17 121.07 563.15 C 152.13 666.26 228.67 749.53 327.29 789.8 C 360.95 803.5 397.21 812.24 435.12 814.96 L 435.12 921.26 C 397.8 919.25 361.77 912.64 327.29 902.24 C 202.45 864.33 99.93 774.92 44.53 658.7 C 26.1 619.96 12.99 578.27 5.91 534.57 C 3.19 517.33 1.3 499.73 0.48000000000000004 481.89 C 0.24000000000000002 474.8 0.01 467.72 0.01 460.63 C 0.01 431.1 2.84 402.17 8.16 374.06 C 18.55 319.38 38.51 268.12 66.39 222.05 C 85.64 190.28 108.56 161.11 134.66 134.88 L 201.51 218.38 L 327.539 385.41 L 328.114 29.776 C 335.509 15.21 438.393 -4.241 434.41 0 L 434.88 0 L 435.12 0.12000000000000001 Z"
          // d="m435.12,681.97v15.71h-107.83v-391.77l-27.76,34.72-26.81,33.43-42.28,52.68-42.17-52.68-26.81-33.43-22.91-28.58c-9.09,19.72-16.42,40.51-21.85,62.01-2.48,9.8-4.49,19.84-6.14,30-2.95,18.43-4.49,37.32-4.49,56.57,0,7.09.24,14.17.71,21.26,1.65,28.11,6.5,55.28,14.29,81.26,31.06,103.11,107.6,186.38,206.22,226.65,33.66,13.7,69.92,22.44,107.83,25.16v106.3c-37.32-2.01-73.35-8.62-107.83-19.02-124.84-37.91-227.36-127.32-282.76-243.54-18.43-38.74-31.54-80.43-38.62-124.13-2.72-17.24-4.61-34.84-5.43-52.68-.24-7.09-.47-14.17-.47-21.26,0-29.53,2.83-58.46,8.15-86.57,10.39-54.68,30.35-105.94,58.23-152.01,19.25-31.77,42.17-60.94,68.27-87.17l66.85,83.5,28.94,36.02,96.85-120.71,2.6-3.31L434.41,0h.47l.24.12v681.85Z"
          variants={iconVariant1}
          initial="hidden"
          animate="visible"
        />
      </motion.svg>{" "}

    </div>
  );
};

export default Loader;
